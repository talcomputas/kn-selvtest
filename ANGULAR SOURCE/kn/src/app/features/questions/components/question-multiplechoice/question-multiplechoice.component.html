<div *ngIf="!question?.video && question?.image as imageUrl" class="image">
  <img [src]="'assets/images/' + imageUrl" alt="{{ question?.text }}" />
</div>

<div *ngIf="!question?.image && question?.video as video" class="video">
  <video
    [src]="'assets/videos/' + video.url"
    [autoplay]="video.autoplay"
    [controls]="video.controls"
    [loop]="video.loop"
  ></video>
</div>

<div class="content" [class.no-media]="!question?.image && !question?.video">
  <div class="content-inner">
    <h2 *ngIf="question?.title as title" class="title">{{ title }}</h2>
    <p *ngIf="question?.text as text" class="text">
      <span *ngFor="let snippet of getSplitText(question.text); let ix = index">
        <span *ngIf="snippet === '%s'">
          <app-multiplechoice
            [options]="question?.options"
          ></app-multiplechoice>
        </span>
        <span *ngIf="snippet !== '%s'">{{ snippet }}</span>
      </span>
    </p>
    <p *ngIf="question?.info as info" [innerHTML]="info?.text"></p>
  </div>

  <span class="flex-spacer"></span>

  <div *ngIf="question?.options as options" [formGroup]="form">
    <div
      app-button-toggle-group
      class="options"
      [limit]="limit"
      [formControl]="control"
    >
      <div
        app-button-toggle
        *ngFor="let option of options"
        [value]="option?.id"
      >
        <div class="option" [innerHTML]="option?.text"></div>
      </div>
    </div>
  </div>
</div>
